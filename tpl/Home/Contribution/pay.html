{~$title = '打赏'}
<include file="Public:header" />

<body>

<div id="layout">
    <!-- header -->
    <header class="header header_white">
        <div id="back"></div>
        <div id="h_right"></div>
        <h1>给《{$data.title}》打赏</h1>
    </header>
    <!-- //header -->

    <!-- main -->
    <div id="main">
        <div class="content whitebg">
            <form class="Comment_form" action="" method="post" onsubmit="return check()">
                <input type="hidden" name="post_id" value="{$data.id}">
                <input type="hidden" name="chapter_id" value="{$chapter_id}">
                <div class="title" style="margin-top: 10px; ">打赏金额(元)</div>
                <dt class="contribution_prices">
                    <!--<a href="javascript:void(0)" data-price="1">1</a>-->
                    <a href="javascript:void(0)" data-price="2">2</a>
                    <a href="javascript:void(0)" data-price="5">5</a>
                    <a href="javascript:void(0)" data-price="">土豪随意</a>
                </dt>
                <input type="hidden" name="sel_price" id="sel_price" value="" />
                <dt class="price_input" style="display: none">
                    <input type="text" name="price" id="price" value="" placeholder="请输入打赏金额" />
                </dt>

                <div class="title">评论一下</div>
                <dt><textarea name="msg" id="msg" class="Comment_textarea" placeholder="选填"></textarea></dt>
                <dt><button type="submit" class="Comment_submit">确认打赏</button></dt>
            </form>
        </div>
    </div>
</div>

</body>
</html>

<script>
    function check() {
        if( $('#sel_price').val() == '' && $('#price').val() == '' ) {
            alert('请选择或输入金额！');
            return false;
        }
    }

    $(function(){
        $('.contribution_prices a').click(function(){
            var price = $(this).attr('data-price');
            $(this).addClass('active').siblings().removeClass('active');
            if( price == '' ) {
                $('.price_input').show();
                $('#price').val('');
                $('#sel_price').val('')
            } else {
                $('.price_input').hide();
                $('#price').val('');
                $('#sel_price').val(price)
            }
        })
        $('.contribution_prices a').eq(0).trigger('click');
    })
</script>
